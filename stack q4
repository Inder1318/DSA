#include <iostream>
#include <string>
using namespace std;
int prec(char c){ if(c=='^') return 3; if(c=='*'||c=='/') return 2; if(c=='+'||c=='-') return 1; return 0; }
int main(){
    string s,res="";
    cin>>s;
    char st[100];
    int top=-1;
    for(int i=0;i<s.size();i++){
        char c=s[i];
        if(isalpha(c)||isdigit(c)) res+=c;
        else if(c=='(') st[++top]=c;
        else if(c==')'){
            while(top!=-1&&st[top]!='(') res+=st[top--];
            if(top!=-1) top--;
        }
        else{
            while(top!=-1&&prec(st[top])>=prec(c)) res+=st[top--];
            st[++top]=c;
        }
    }
    while(top!=-1) res+=st[top--];
    cout<<res;
}
